---
 - hosts: all
   tasks:
     - name: Create file
       file:
         path: /tmp/file.txt
         state: touch
       when: inventory_hostname == "sftp"
       
     - name: Fetch a file
       fetch: 
         src: /tmp/file.txt 
         dest: /tmp/file.txt 
       when: inventory_hostname == "sftp"

     - name: Copy the file to the prod server
       copy: 
         src: /tmp/file.txt 
         dest: /tmp/file.txt
       when: inventory_hostname == "prod"
